# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –Ω–∞ Yandex Cloud VM (< 10 –º–∏–Ω—É—Ç)

## –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã

### –í Yandex Cloud Console:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ [Yandex Cloud Console](https://console.cloud.yandex.ru/)**
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ**: Compute Cloud ‚Üí –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã ‚Üí –°–æ–∑–¥–∞—Ç—å VM
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ VM:**

```
–ò–º—è: quick-test-vm
–û–ø–∏—Å–∞–Ω–∏–µ: –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç ML –ø—Ä–æ–µ–∫—Ç–∞

–ó–æ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏: 
  ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ –±–ª–∏–∂–∞–π—à—É—é –∫ –≤–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, ru-central1-a)

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:
  ‚Üí standard-v2 (2 vCPU, 4 GB RAM) - –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∞
  ‚Üí –ò–ª–∏ standard-v3 (4 vCPU, 8 GB RAM) - –±—ã—Å—Ç—Ä–µ–µ, –Ω–æ –¥–æ—Ä–æ–∂–µ

–û–±—Ä–∞–∑:
  ‚Üí Ubuntu 22.04 LTS

–î–∏—Å–∫:
  ‚Üí 20-30 GB SSD

–°–µ—Ç—å:
  ‚Üí –ü—É–±–ª–∏—á–Ω—ã–π IP: –í–∫–ª—é—á–∏—Ç—å
  ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ç—å (–∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é)

–î–æ—Å—Ç—É–ø:
  ‚Üí SSH –∫–ª—é—á: –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á
     (–∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á)
```

4. **–ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å VM"**

### –û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è: 1-2 –º–∏–Ω—É—Ç—ã

---

## –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ VM

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è VM —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π IP –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å:

```bash
ssh ubuntu@<PUBLIC_IP>
```

–ù–∞–ø—Ä–∏–º–µ—Ä:
```bash
ssh ubuntu@51.250.XX.XX
```

---

## –®–∞–≥ 3: –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (2-3 –º–∏–Ω—É—Ç—ã)

### –í–∞—Ä–∏–∞–Ω—Ç A: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –°–∫–∞—á–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏
curl -O https://raw.githubusercontent.com/Aris12122/Iterative-Expert-Guided-Fine-Tuning/main/setup_vm_quick.sh

# –ò–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ setup_vm_quick.sh –≤—Ä—É—á–Ω—É—é

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É
chmod +x setup_vm_quick.sh
./setup_vm_quick.sh
```

### –í–∞—Ä–∏–∞–Ω—Ç B: –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python
sudo apt install -y python3.10 python3-pip python3-venv git

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
git clone https://github.com/Aris12122/Iterative-Expert-Guided-Fine-Tuning.git
cd Iterative-Expert-Guided-Fine-Tuning

# –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate

# –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install --upgrade pip
pip install -r requirements.txt
```

---

## –®–∞–≥ 4: –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç (< 7 –º–∏–Ω—É—Ç)

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
cd Iterative-Expert-Guided-Fine-Tuning

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ)
source venv/bin/activate

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç
python scripts/quick_test_vm.py
```

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:

1. ‚úÖ –û–±—É—á–∞–µ—Ç –º–æ–¥–µ–ª—å –Ω–∞ 100 –ø—Ä–∏–º–µ—Ä–∞—Ö (1 —ç–ø–æ—Ö–∞) - ~2-3 –º–∏–Ω—É—Ç—ã
2. ‚úÖ –û—Ü–µ–Ω–∏–≤–∞–µ—Ç –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ - ~30 —Å–µ–∫—É–Ω–¥
3. ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –Ω–∞ 6 –ø—Ä–∏–º–µ—Ä–∞—Ö - ~30 —Å–µ–∫—É–Ω–¥
4. ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:

```
================================================================================
üöÄ –ë–´–°–¢–†–´–ô –¢–ï–°–¢ –ù–ê VM (< 10 –º–∏–Ω—É—Ç)
================================================================================

üìã –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏...
‚úì –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞: quick_test_vm
  - –î–∞–Ω–Ω—ã—Ö: 100 –ø—Ä–∏–º–µ—Ä–æ–≤
  - –≠–ø–æ—Ö: 1
  - Batch size: 16

üèãÔ∏è –ù–∞—á–∞–ª–æ –æ–±—É—á–µ–Ω–∏—è...
‚úì –û–±—É—á–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ –∑–∞ 125.3 —Å–µ–∫—É–Ω–¥ (2.1 –º–∏–Ω—É—Ç)

üìä –ë—ã—Å—Ç—Ä–∞—è –æ—Ü–µ–Ω–∫–∞ –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏...
‚úì –û—Ü–µ–Ω–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∑–∞ 15.2 —Å–µ–∫—É–Ω–¥

================================================================================
üìà –†–ï–ó–£–õ–¨–¢–ê–¢–´ –û–ë–£–ß–ï–ù–ò–Ø
================================================================================
  val_accuracy: 0.3500
  val_expected_correctness: 0.3200
================================================================================

üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö...
‚úì –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ –∑–∞ 8.5 —Å–µ–∫—É–Ω–¥

================================================================================
üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø
================================================================================
–í—Å–µ–≥–æ –ø—Ä–∏–º–µ—Ä–æ–≤: 6
–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö: 2
–¢–æ—á–Ω–æ—Å—Ç—å: 33.33%
================================================================================

‚è±Ô∏è –û–ë–©–ï–ï –í–†–ï–ú–Ø: 148.9 —Å–µ–∫—É–Ω–¥ (2.5 –º–∏–Ω—É—Ç)
‚úÖ –£–ª–æ–∂–∏–ª–∏—Å—å –≤ –ª–∏–º–∏—Ç 10 –º–∏–Ω—É—Ç!
```

---

## –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—ã —É–≤–∏–¥–∏—Ç–µ:
- ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ –æ–±—É—á–µ–Ω–∏—è (accuracy, expected correctness)
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö
- ‚úÖ –û–±—â–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å –≤ `outputs/checkpoints/quick_test_vm/`

---

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —É–ª–æ–∂–∏—Ç—å—Å—è –≤ 5 –º–∏–Ω—É—Ç, –∏–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `scripts/quick_test_vm.py`:

```python
config.dataset.max_samples = 50  # –ï—â–µ –º–µ–Ω—å—à–µ –¥–∞–Ω–Ω—ã—Ö
config.training.batch_size = 32  # –ë–æ–ª—å—à–µ batch size
```

---

## –£–¥–∞–ª–µ–Ω–∏–µ VM –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∞

**‚ö†Ô∏è –í–ê–ñ–ù–û**: –ù–µ –∑–∞–±—É–¥—å—Ç–µ —É–¥–∞–ª–∏—Ç—å VM, —á—Ç–æ–±—ã –Ω–µ –ø–ª–∞—Ç–∏—Ç—å –ª–∏—à–Ω–µ–µ!

### –í –∫–æ–Ω—Å–æ–ª–∏:
1. Compute Cloud ‚Üí –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã
2. –í—ã–±–µ—Ä–∏—Ç–µ `quick-test-vm`
3. –ù–∞–∂–º–∏—Ç–µ "–£–¥–∞–ª–∏—Ç—å"

### –ò–ª–∏ —á–µ—Ä–µ–∑ CLI:
```bash
yc compute instance delete quick-test-vm
```

---

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–ª–∏–∂–∞–π—à—É—é –∑–æ–Ω—É –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø–∞–º—è—Ç–∏

**–†–µ—à–µ–Ω–∏–µ**: 
- –£–≤–µ–ª–∏—á—å—Ç–µ RAM –¥–æ 8 GB (standard-v3)
- –ò–ª–∏ —É–º–µ–Ω—å—à–∏—Ç–µ batch_size –≤ —Å–∫—Ä–∏–ø—Ç–µ –¥–æ 8

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç 10 –º–∏–Ω—É—Ç

**–†–µ—à–µ–Ω–∏–µ**:
- –£–º–µ–Ω—å—à–∏—Ç–µ `max_samples` –¥–æ 50
- –£–±–µ—Ä–∏—Ç–µ –æ—Ü–µ–Ω–∫—É –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤ —Å–∫—Ä–∏–ø—Ç–µ)

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–†–µ—à–µ–Ω–∏–µ**:
```bash
# –û–±–Ω–æ–≤–∏—Ç–µ pip
pip install --upgrade pip setuptools wheel

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–æ –æ–¥–Ω–æ–π
pip install torch
pip install transformers
pip install datasets
pip install numpy tqdm
```

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∞:

1. **–£–≤–µ–ª–∏—á—å—Ç–µ –¥–∞–Ω–Ω—ã–µ**: —É–±–µ—Ä–∏—Ç–µ `max_samples` –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ 500-1000
2. **–ë–æ–ª—å—à–µ —ç–ø–æ—Ö**: —É–≤–µ–ª–∏—á—å—Ç–µ `num_epochs` –¥–æ 3-5
3. **–ü–æ–ª–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ**: –∑–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞ –ø–æ–ª–Ω–æ–º –¥–∞—Ç–∞—Å–µ—Ç–µ
4. **GPU —Ç–µ—Å—Ç**: —Å–æ–∑–¥–∞–π—Ç–µ VM —Å GPU –¥–ª—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è

---

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫

- [ ] VM —Å–æ–∑–¥–∞–Ω–∞ –≤ Yandex Cloud
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ SSH —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- [ ] –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ
- [ ] –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
- [ ] VM —É–¥–∞–ª–µ–Ω–∞ –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∞

---

## –°—Ç–æ–∏–º–æ—Å—Ç—å

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞:**
- VM standard-v2 (2 vCPU, 4 GB): ~150‚ÇΩ/—á–∞—Å
- –í—Ä–µ–º—è —Ç–µ—Å—Ç–∞: ~10 –º–∏–Ω—É—Ç = 0.17 —á–∞—Å–∞
- **–ò—Ç–æ–≥–æ: ~25-30‚ÇΩ –∑–∞ —Ç–µ—Å—Ç**

**–≠–∫–æ–Ω–æ–º–∏—è**: –£–¥–∞–ª—è–π—Ç–µ VM —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∞!

